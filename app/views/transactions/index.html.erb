<% 

transactions = Transaction.all
users = User.all

# for transaction in transactions
#   if transaction[:from_user] == "ben"
#     balance_ben = balance_ben - blockchain[:amount]
#   elsif blockchain[:from_user] == "brian"
#     balance_brian = balance_brian - blockchain[:amount]
#   elsif blockchain[:from_user] == "evan"
#     balance_evan = balance_evan - blockchain[:amount]
#   elsif blockchain[:from_user] == "anthony"
#     balance_anthony = balance_anthony - blockchain[:amount]
#   end
%>

<h1>KelloggCoin Ledger</h1>

<!-- Step 1: List all transactions, starting with the ICO -->

<ol>
<%for transaction in transactions %>
    <% sender = User.find_by(transaction.from_user_id).name %>
    <% receiver = User.find_by(transaction.to_user_id).name %>
        <li> <%= transaction["amount"]%> from <%= sender["name"]%> to <%= receiver["name"]%> </li>

<% end %>
    
</ol>
<!-- Step 2: Calculate and display the balances -->

<!-- 
Expected balances:
Balance for Brian: 1348 KC
Balance for Ben: 2516 KC
Balance for Evan: 1164 KC
Balance for Anthony: 1456 KC
Balance for Krystina: 3516 KC 
-->